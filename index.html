<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Part Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <script defer>
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('addItemButton').addEventListener('click', () => {
                const name = prompt("Enter name:");
                const dateUpdated = new Date().toLocaleDateString();
                const step = prompt("Enter step:");
                const origin = prompt("Enter origin:");
                const project = prompt("Enter project:");

                if (name && step && origin && project) {
                    const row = document.createElement('tr');
                    row.innerHTML = `<td>${name}</td><td>${dateUpdated}</td><td>${step}</td><td>${origin}</td><td>${project}</td>`;
                    document.querySelector('#partTable tbody').appendChild(row);

                    updateCSV(name, dateUpdated, step, origin, project);
                }
            });
        });

        function updateCSV(name, dateUpdated, step, origin, project) {
            // This function will make use of GitHub API to update the CSV file on the repository
            // Pseudo code below represents this:
            
            // fetch('https://api.github.com/repos/username/repository/contents/data.csv', {
            //     method: 'PUT',
            //     headers: {
            //         'Authorization': 'token YOUR_GITHUB_TOKEN',
            //         'Content-Type': 'application/json'
            //     },
            //     body: JSON.stringify({
            //         message: 'Update data.csv',
            //         content: btoa(newCSVContent),
            //         sha: existingFileSHA
            //     })
            // })
        }
    </script>
</head>
<body>
    <div class="container">
        <button id="addItemButton">Add item</button>
        <button id="sortButton">SORT</button>
        <table id="partTable">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Date updated</th>
                    <th>Step</th>
                    <th>Origin</th>
                    <th>Project</th>
                </tr>
            </thead>
            <tbody>
                <!-- Dynamic table rows will be added here -->
            </tbody>
        </table>
    </div>
</body>
</html>
